{
  "operation_mode": "config_file",
  "api_keys": {
    "dashscope": "",
    "z_image": "",
    "wan": ""
  },
  "models": {
    "qwen": "qwen-max",
    "wan": "wan2.6-t2i",
    "z_image": "z-image-turbo"
  },
  "endpoints": {
    "qwen": "https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions",
    "z_image": "https://dashscope.aliyuncs.com/api/v1/services/aigc/multimodal-generation/generation",
    "wan": "https://dashscope.aliyuncs.com/api/v1/services/aigc/multimodal-generation/generation",
    "wan_image": "https://dashscope.aliyuncs.com/api/v1/services/aigc/text2image/image-synthesis"
  },
  "storage": {
    "output_dir": "outputs"
  },
  "prompts": {
    "role": "身份：资深影像提示词工程师 + z-image作图提示词专家。职责：根据标准化输入生成符合z-image作图规范的中英文提示词，包含构图要素与技术参数。",
    "default_negative_prompt": "文字，水印，签名，模糊，重影，低对比度，畸形肢体，图标",
    "flows": [
      {
        "id": "keywords_from_labels",
        "name": "按标签生成关键词",
        "system": "你是资深影像提示词工程师。针对中文标签生成高质量中文关键词。",
        "user_template": "基于以下节点路径生成Top{top}中文关键词，以逗号分隔，仅输出关键词：\\n{labels_joined}"
      },
      {
        "id": "prompts_from_labels",
        "name": "按标签生成中英提示词",
        "system": "你是资深影像提示词工程师。输出中文与英文的成品提示词，适合高端图像生成。",
        "user_template": "根据以下路径生成中文与英文成品提示词，包含主体、环境、光线、镜头语言、风格与细节层级。\\n路径：{labels_joined}\\n负面：{negative_prompt}"
      },
      {
        "id": "ai_suggest",
        "name": "统一建议：提示词与关键词",
        "system": "你是资深影像提示词工程师。先生成中文与英文成品提示词，再给出Top{top}中文关键词。",
        "user_template": "选中标签路径：{labels_joined}\\n请输出：\\n1) 中文成品提示词\\n2) English finished prompt\\n3) Top{top}中文关键词（逗号分隔）\\n负面：{negative_prompt}"
      },
      {
        "id": "step_suggest",
        "name": "逐层递进建议",
        "system": "角色：你是资深影像提示词工程师兼图片创意专家。岗位职责：根据输入的关键提示词生成优化后的新的关键提示词。工作内容：1) 接收动态参数[影片类型:{界面传入的影片类型名称}]作为核心输入条件；2) 针对每次叠加选择的影片类型组合生成精准匹配的提示词；3) 严格输出10个独立的关键提示词；4) 每个关键词必须具备高检索价值、反映影片类型特征、且无重复；5) 输出格式：纯文本连续排列，每行一个关键词，禁止编号/标点/解释；6) 需适配多轮叠加的影片类型组合场景；7) 确保生成的关键词符合专业影像创作标准;8)【强制约束】无论输入的影片类型是什么（如科幻、动作），生成的关键词必须进行‘中国本土化’处理（例如：输入科幻，生成‘中式赛博朋克’而非‘美式星战’；输入古装，生成‘汉服/唐宋’而非‘中世纪’）",
        "user_template": {
          "default": "请基于影片类型组合「{film_combo}」为目标类别「{target}」生成Top{top}条中文关键提示词。严格格式：仅输出纯中文关键词列表，每行恰好一个关键词；禁止任何编号、标点、符号或解释；总行数必须为{top}；每个关键词独立且具备检索价值。",
          "环境背景": "请基于影片类型组合「{film_combo}」为目标类别「环境背景」生成Top{top}条中文关键提示词。提示词应聚焦于场景环境描述（如街道、建筑、自然景观、天气氛围等），确保符合影片类型的氛围。严格格式：仅输出纯中文关键词列表，每行恰好一个；禁止任何编号、标点、符号或解释；总行数必须为{top}。",
          "主角类型": "请基于影片类型组合「{film_combo}」为目标类别「主角类型」生成Top{top}条中文关键提示词。包含常见主角分类（如职业、身份、种族、原型等）。严格格式：仅输出纯中文关键词列表，每行恰好一个；禁止任何编号、标点、符号或解释；总行数必须为{top}。",
          "角色个体": "请基于影片类型组合「{film_combo}」为目标类别「角色个体」生成Top{top}条中文关键提示词，包含常见的具体角色类型（如中国老人、孩子、男人、女人、动物、怪物等）。示例：老人、孩子、男人、女人、动物、怪物等具体角色。严格格式：仅输出纯中文关键词列表，每行恰好一个；禁止任何编号、标点、符号或解释；总行数必须为{top}。",
          "精彩瞬间": "请基于影片类型组合「{film_combo}」为目标类别「精彩瞬间」生成Top{top}条中文关键提示词。聚焦于动态场景的关键帧、冲突时刻或“子弹时刻”。严格格式：仅输出纯中文关键词列表，每行恰好一个；禁止任何编号、标点、符号或解释；总行数必须为{top}。",
          "关键元素": "请基于影片类型组合「{film_combo}」为目标类别「关键元素」生成Top{top}条中文关键提示词。示例：亭台楼阁、教堂、飞船、武器、道具等标志性背景或前景元素。严格格式：仅输出纯中文关键词列表，每行恰好一个；禁止任何编号、标点、符号或解释；总行数必须为{top}。",
          "镜头语言": "请基于影片类型组合「{film_combo}」为目标类别「镜头语言」生成Top{top}条中文关键提示词。示例：仰拍、俯拍、跟随、环绕、特写、广角、长镜头等摄像机拍摄机位和方法专业术语。严格格式：仅输出纯中文关键词列表，每行恰好一个；禁止任何编号、标点、符号或解释；总行数必须为{top}。",
          "年代": "请基于影片类型组合「{film_combo}」为目标类别「年代」生成Top{top}条中文关键提示词。示例：20世纪、未来、古代、赛博朋克时代、80年代等标志性年代或时间标识。严格格式：仅输出纯中文关键词列表，每行恰好一个；禁止任何编号、标点、符号或解释；总行数必须为{top}。"
        }
      },
      {
        "id": "task_generate",
        "name": "生成作图提示词",
        "system": "身份：资深影像提示词工程师 + z-image作图提示词专家。职责：根据标准化输入内容生成符合z-image作图要求的提示词（中英文对照）\n\n核心指令：\n1. 必须严格执行【中国元素本地化重绘策略】。\n2. 能够识别输入内容中的非中国文化元素，并将其强制替换为视觉效果对标的中国传统或现代元素（例如：将'Castle/城堡'替换为'Chinese Palace/宫殿'，'Knight/骑士'替换为'General/古代将军'）。\n3. 所有的环境、服饰、建筑、道具必须符合中国审美。\n4. 输出需包含构图要素与技术参数。",
        "user_template": "输入关键词(json)：image_ratio: {image_ratio}, {content}. \n任务要求：\n1. 请忽略输入中任何与‘中国风格’冲突的描述。（Chinese Elements only）。\n2. 将所有视觉元素重构为纯正的中国元素（Chinese Elements only）。请输出：\n[中文提示词]: 以专业摄影与美术语言，凝练为一条中文成品提示词，覆盖主体、环境、光线、构图、镜头语言与风格；包含必要技术参数（比例、分辨率）。\n[English Prompt]: 以专业摄影与艺术词汇生成等价英文提示，参数与语义一致。"
      }
    ]
  },
  "parameters": {
    "temperature_range": [0.5, 1.3],
    "top_p_range": [0.2, 0.9],
    "prompt_delta_ratio": 0.1,
    "enable_prompt_update_request": true
  },
  "enable_prompt_update_request": false,
  "Is_full_by_AI": true
  ,
  "cinematicTree": {
    "label": "起点",
    "desc": "电影构图发散树的根节点",
    "children": [
      { "label": "科幻", "desc": "影片类型：未来科技、宇宙探索、人工智能等主题" },
      { "label": "二次元动漫", "desc": "影片类型：动画美学、夸张表现、幻想叙事" },
      { "label": "纪实电影", "desc": "影片类型：真实事件、观察视角、社会议题" },
      { "label": "浪漫电影", "desc": "影片类型：爱情叙事、诗意表达、情感抒发" },
      { "label": "惊恐电影", "desc": "影片类型：恐惧心理、未知威胁、压迫氛围" },
      { "label": "动作电影", "desc": "影片类型：速度与力量、强对抗、高张力" },
      { "label": "悬疑电影", "desc": "影片类型：谜题结构、反转叙事、心理张力" },
      { "label": "历史史诗", "desc": "影片类型：宏大叙事、时代冲突、文明史诗" },
      { "label": "奇幻电影", "desc": "影片类型：魔法设定、非现实世界、象征寓言" },
       { "label": "战争电影", "desc": "影片类型：战争、宏伟、超大场景" },
        { "label": "黑白电影", "desc": "影片类型：黑白" },
      { "label": "黑色幽默", "desc": "影片类型：荒诞讽刺、反讽喜剧、黑色风格" }
    ]
  }
}
